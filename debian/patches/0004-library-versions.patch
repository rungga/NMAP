Description: Report correct versions for libssh2 and zlib
 Do not report the versions from the libssh2/libssh2v.h and libz/libzv.h files,
 because they are not correct when nmap is linked against the system version of
 these (instead of the version bundled with nmap).  Instead use the version
 facility provided by the libraries themselves.
Origin: upstream
Bug: https://github.com/nmap/nmap/pull/957
---
 nmap.cc | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

diff --git a/nmap.cc b/nmap.cc
index ec46267..6fc3e8f 100644
--- a/nmap.cc
+++ b/nmap.cc
@@ -182,11 +182,19 @@
 #endif
 
 #if HAVE_LIBSSH2
-#include <libssh2.h>
+#ifdef LIBSSH2_INCLUDED
+#include "libssh2/libssh2v.h"
+#else
+#include "libssh2.h"
+#endif
 #endif
 
 #if HAVE_LIBZ
-#include <zlib.h>
+#ifdef ZLIB_INCLUDED
+#include "libz/libzv.h"
+#else
+#include "zlib.h"
+#endif
 #endif
 
 /* To get the version number only. */
